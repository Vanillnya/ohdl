---
source: tests/basic.rs
expression: root
---
[
    Module(
        Module {
            name: `std`:4..7,
            items: [
                Enum(
                    Enum {
                        name: `Logical`:20..27,
                        variants: [
                            `High`:39..43,
                            `Low`:54..57,
                        ],
                    },
                ):15..68,
            ],
        },
    ):0..73,
    Use(
        Use {
            path: Path(
                [
                    PathSegment(
                        `std`:76..79,
                    ),
                    PathSegment(
                        `Logical`:81..88,
                    ),
                ],
                Root,
            ):74..89,
        },
    ):70..96,
    Module(
        Module {
            name: `x`:97..98,
            items: [
                Use(
                    Use {
                        path: Path(
                            [
                                PathSegment(
                                    `y`:110..111,
                                ),
                            ],
                            Local,
                        ):110..112,
                    },
                ):106..115,
            ],
        },
    ):93..122,
    Module(
        Module {
            name: `y`:123..124,
            items: [
                Use(
                    Use {
                        path: Path(
                            [
                                PathSegment(
                                    `x`:136..137,
                                ),
                            ],
                            Local,
                        ):136..138,
                    },
                ):132..141,
            ],
        },
    ):119..151,
    Record(
        Record {
            name: `MyRecord`:152..160,
            fields: [
                Field {
                    name: `a`:168..169,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:171..178,
                                ),
                            ],
                            Local,
                        ):171..179,
                    }:171..179,
                }:168..179,
                Field {
                    name: `b`:185..186,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:188..195,
                                ),
                            ],
                            Local,
                        ):188..196,
                    }:188..196,
                }:185..196,
            ],
        },
    ):145..207,
    Enum(
        Enum {
            name: `MyEnum`:208..214,
            variants: [
                `A`:222..223,
                `B`:230..231,
                `C`:238..239,
                `D`:246..247,
                `E`:254..255,
            ],
        },
    ):203..269,
    Entity(
        Entity {
            name: `HalfAdder`:270..279,
            ports: [
                Port {
                    kind: Input:287..289,
                    name: `a`:291..292,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:294..301,
                                ),
                            ],
                            Local,
                        ):294..302,
                    }:294..302,
                }:287..302,
                Port {
                    kind: Input:308..310,
                    name: `b`:312..313,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:315..322,
                                ),
                            ],
                            Local,
                        ):315..323,
                    }:315..323,
                }:308..323,
                Port {
                    kind: Output:329..332,
                    name: `o`:333..334,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:336..343,
                                ),
                            ],
                            Local,
                        ):336..344,
                    }:336..344,
                }:329..344,
                Port {
                    kind: Output:350..353,
                    name: `c`:354..355,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:357..364,
                                ),
                            ],
                            Local,
                        ):357..365,
                    }:357..365,
                }:350..365,
            ],
        },
    ):263..376,
    Arch(
        Arch {
            name: `RTL`:377..380,
            ty: Type {
                path: Path(
                    [
                        PathSegment(
                            `HalfAdder`:385..394,
                        ),
                    ],
                    Local,
                ):385..396,
            }:385..396,
            stmts: [
                Assign(
                    AssignStmt {
                        assignee: `o`:402..403,
                        value: Binary {
                            left: Primary(
                                `a`:407..408,
                            ),
                            right: Primary(
                                `b`:413..414,
                            ),
                            operator: Xor,
                        },
                    },
                ):402..422,
                Assign(
                    AssignStmt {
                        assignee: `c`:421..422,
                        value: Binary {
                            left: Primary(
                                `a`:426..427,
                            ),
                            right: Primary(
                                `b`:432..433,
                            ),
                            operator: And,
                        },
                    },
                ):421..437,
            ],
        },
    ):372..444,
    Use(
        Use {
            path: Path(
                [
                    PathSegment(
                        `a`:445..446,
                    ),
                    PathSegment(
                        `b`:448..449,
                    ),
                    PathSegment(
                        `Lol`:451..454,
                    ),
                ],
                Local,
            ):445..455,
        },
    ):441..462,
    Module(
        Module {
            name: `a`:463..464,
            items: [
                Use(
                    Use {
                        path: Path(
                            [
                                PathSegment(
                                    `other`:476..481,
                                ),
                                PathSegment(
                                    `b`:483..484,
                                ),
                            ],
                            Local,
                        ):476..485,
                    },
                ):472..488,
            ],
        },
    ):459..495,
    Module(
        Module {
            name: `other`:496..501,
            items: [
                Module(
                    Module {
                        name: `b`:513..514,
                        items: [
                            Entity(
                                Entity {
                                    name: `Lol`:533..536,
                                    ports: [],
                                },
                            ):526..547,
                        ],
                    },
                ):509..550,
            ],
        },
    ):492..560,
    Entity(
        Entity {
            name: `FullAdder`:561..570,
            ports: [
                Port {
                    kind: Input:578..580,
                    name: `a`:582..583,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:585..592,
                                ),
                            ],
                            Local,
                        ):585..593,
                    }:585..593,
                }:578..593,
                Port {
                    kind: Input:599..601,
                    name: `b`:603..604,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:606..613,
                                ),
                            ],
                            Local,
                        ):606..614,
                    }:606..614,
                }:599..614,
                Port {
                    kind: Input:620..622,
                    name: `ci`:624..626,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:628..635,
                                ),
                            ],
                            Local,
                        ):628..636,
                    }:628..636,
                }:620..636,
                Port {
                    kind: Output:642..645,
                    name: `o`:646..647,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:649..656,
                                ),
                            ],
                            Local,
                        ):649..657,
                    }:649..657,
                }:642..657,
                Port {
                    kind: Output:663..666,
                    name: `co`:667..669,
                    ty: Type {
                        path: Path(
                            [
                                PathSegment(
                                    `Logical`:671..678,
                                ),
                            ],
                            Local,
                        ):671..679,
                    }:671..679,
                }:663..679,
            ],
        },
    ):554..690,
    Arch(
        Arch {
            name: `RTL`:691..694,
            ty: Type {
                path: Path(
                    [
                        PathSegment(
                            `FullAdder`:699..708,
                        ),
                    ],
                    Local,
                ):699..710,
            }:699..710,
            stmts: [
                Place(
                    PlaceStmt {
                        entity_ty: Type {
                            path: Path(
                                [
                                    PathSegment(
                                        `HalfAdder`:716..725,
                                    ),
                                ],
                                Local,
                            ):716..726,
                        }:716..726,
                        arch_ty: Type {
                            path: Path(
                                [
                                    PathSegment(
                                        `RTL`:726..729,
                                    ),
                                ],
                                Local,
                            ):726..730,
                        }:726..730,
                        links: [
                            PlaceLink {
                                src: `a`:742..743,
                                arrow_span: Span(
                                    744,
                                    746,
                                ),
                                link: Ingoing(
                                    Primary(
                                        `a`:747..748,
                                    ):747..749,
                                ),
                            }:742..749,
                            PlaceLink {
                                src: `b`:759..760,
                                arrow_span: Span(
                                    761,
                                    763,
                                ),
                                link: Ingoing(
                                    Primary(
                                        `b`:764..765,
                                    ):764..766,
                                ),
                            }:759..766,
                            PlaceLink {
                                src: `o`:776..777,
                                arrow_span: Span(
                                    778,
                                    780,
                                ),
                                link: Outgoing(
                                    NewSignal(
                                        `s`:788..789,
                                    ):781..790,
                                ),
                            }:776..790,
                            PlaceLink {
                                src: `c`:800..801,
                                arrow_span: Span(
                                    802,
                                    804,
                                ),
                                link: Outgoing(
                                    NewSignal(
                                        `cb`:812..814,
                                    ):805..815,
                                ),
                            }:800..815,
                        ],
                    },
                ):716..839,
                Place(
                    PlaceStmt {
                        entity_ty: Type {
                            path: Path(
                                [
                                    PathSegment(
                                        `HalfAdder`:830..839,
                                    ),
                                ],
                                Local,
                            ):830..840,
                        }:830..840,
                        arch_ty: Type {
                            path: Path(
                                [
                                    PathSegment(
                                        `RTL`:840..843,
                                    ),
                                ],
                                Local,
                            ):840..844,
                        }:840..844,
                        links: [
                            PlaceLink {
                                src: `a`:856..857,
                                arrow_span: Span(
                                    858,
                                    860,
                                ),
                                link: Ingoing(
                                    Primary(
                                        `s`:861..862,
                                    ):861..863,
                                ),
                            }:856..863,
                            PlaceLink {
                                src: `b`:873..874,
                                arrow_span: Span(
                                    875,
                                    877,
                                ),
                                link: Ingoing(
                                    Primary(
                                        `ci`:878..880,
                                    ):878..881,
                                ),
                            }:873..881,
                            PlaceLink {
                                src: `o`:891..892,
                                arrow_span: Span(
                                    893,
                                    895,
                                ),
                                link: Outgoing(
                                    Ref(
                                        `o`:896..897,
                                    ):896..898,
                                ),
                            }:891..898,
                            PlaceLink {
                                src: `c`:908..909,
                                arrow_span: Span(
                                    910,
                                    912,
                                ),
                                link: Outgoing(
                                    NewSignal(
                                        `cc`:920..922,
                                    ):913..923,
                                ),
                            }:908..923,
                        ],
                    },
                ):830..940,
                Assign(
                    AssignStmt {
                        assignee: `co`:938..940,
                        value: Binary {
                            left: Primary(
                                `cb`:944..946,
                            ),
                            right: Primary(
                                `cc`:950..952,
                            ),
                            operator: Or,
                        },
                    },
                ):938..956,
            ],
        },
    ):686..956,
]
